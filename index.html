<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ibrahim Samad Browser</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>

  <!-- ═══════════════════════════════════════════════════════════════════════════
     SHELL  –  fixed chrome: tab bar (36 px) + nav bar (42 px) = 78 px total
     The BrowserView rendered by main.js sits directly below this at y = 78.
     ═══════════════════════════════════════════════════════════════════════════ -->
  <div class="shell">

    <!-- ── Tab bar ──────────────────────────────────────────────────────────── -->
    <div class="tab-bar" id="tabBar">

      <!-- Scrollable row of tab pills (injected by renderer.js) -->
      <div class="tabs-scroll">
        <div class="tabs-row" id="tabsRow"></div>

        <!-- "+ New Tab" button (Relocated inside scroll for Chrome look) -->
        <button class="tab tab--new" id="btnNewTab" title="New tab">
          <svg width="14" height="14" viewBox="0 0 14 14" fill="none">
            <line x1="7" y1="3" x2="7" y2="11" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
            <line x1="3" y1="7" x2="11" y2="7" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
          </svg>
        </button>
      </div>

      <!-- Window‑control buttons  (shown only on Windows / Linux via CSS) -->
      <div class="win-controls" id="winControls">
        <button class="win-btn win-btn--min" id="btnMin" title="Minimize">
          <svg width="11" height="2" viewBox="0 0 11 2" fill="none">
            <line x1="0" y1="1" x2="11" y2="1" stroke="currentColor" stroke-width="2" />
          </svg>
        </button>
        <button class="win-btn win-btn--max" id="btnMax" title="Maximize / Restore">
          <svg width="11" height="11" viewBox="0 0 11 11" fill="none">
            <rect x="0.5" y="0.5" width="10" height="10" stroke="currentColor" stroke-width="1.5" />
          </svg>
        </button>
        <button class="win-btn win-btn--close" id="btnClose" title="Close">
          <svg width="11" height="11" viewBox="0 0 11 11" fill="none">
            <line x1="0.5" y1="0.5" x2="10.5" y2="10.5" stroke="currentColor" stroke-width="1.5"
              stroke-linecap="round" />
            <line x1="10.5" y1="0.5" x2="0.5" y2="10.5" stroke="currentColor" stroke-width="1.5"
              stroke-linecap="round" />
          </svg>
        </button>
      </div>
    </div><!-- /tab-bar -->

    <!-- ── Navigation bar ───────────────────────────────────────────────────── -->
    <div class="nav-bar" id="navBar">

      <!-- Back -->
      <button class="nav-btn" id="btnBack" disabled title="Back">
        <svg width="18" height="18" viewBox="0 0 18 18" fill="none">
          <path d="M11 4L6 9l5 5" stroke="currentColor" stroke-width="2" stroke-linecap="round"
            stroke-linejoin="round" />
        </svg>
      </button>

      <!-- Forward -->
      <button class="nav-btn" id="btnFwd" disabled title="Forward">
        <svg width="18" height="18" viewBox="0 0 18 18" fill="none">
          <path d="M7 4l5 5-5 5" stroke="currentColor" stroke-width="2" stroke-linecap="round"
            stroke-linejoin="round" />
        </svg>
      </button>

      <!-- Refresh / Stop (toggled via .loading class) -->
      <button class="nav-btn nav-btn--refresh" id="btnRefresh" title="Refresh">
        <!-- refresh icon (visible when idle) -->
        <svg class="icon-refresh" width="18" height="18" viewBox="0 0 18 18" fill="none">
          <path d="M13.5 4.5a6 6 0 1 0 1.8 4.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
          <polyline points="13.5,2 13.5,4.5 11,4.5" stroke="currentColor" stroke-width="2" stroke-linecap="round"
            stroke-linejoin="round" />
        </svg>
        <!-- stop icon (visible while loading) -->
        <svg class="icon-stop" width="18" height="18" viewBox="0 0 18 18" fill="none">
          <rect x="4" y="4" width="10" height="10" rx="2" stroke="currentColor" stroke-width="2" />
        </svg>
      </button>

      <!-- Address / search bar + bookmark star -->
      <div class="addr-wrap">
        <input class="addr-bar" id="addrBar" type="text" autocomplete="off" spellcheck="false"
          placeholder="Search or type a URL…" />
        <button class="addr-star addr-btn-reader" id="btnReader" title="Reader Mode (Ctrl+Shift+R)">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
            <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
          </svg>
        </button>
        <button class="addr-star" id="btnStar" title="Bookmark this page (Ctrl+D)">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
            <path d="M8 1.5l1.8 3.6 4 .6-2.9 2.8.7 4L8 10.8 4.4 12.5l.7-4L2.2 5.7l4-.6z" stroke="currentColor"
              stroke-width="1.4" stroke-linejoin="round" />
          </svg>
        </button>
      </div>

      <!-- Zoom control (visible when zoom ≠ 100%) -->
      <div class="zoom-ctrl" id="zoomCtrl">
        <button class="zoom-btn" id="zoomOut" title="Zoom out (Ctrl+−)">−</button>
        <span class="zoom-label" id="zoomLabel">100%</span>
        <button class="zoom-btn" id="zoomIn" title="Zoom in (Ctrl+=)">+</button>
        <button class="zoom-reset" id="zoomReset" title="Reset zoom (Ctrl+0)">✕</button>
      </div>

      <!-- Right‑side action buttons -->
      <div class="nav-actions">
        <!-- Bookmarks -->
        <button class="nav-act" id="btnBookmarks" title="Bookmarks">
          <svg width="18" height="18" viewBox="0 0 18 18" fill="none">
            <path d="M4 2h10a1 1 0 0 1 1 1v13l-5-3-5 3V3a1 1 0 0 1 1-1z" stroke="currentColor" stroke-width="1.8"
              stroke-linejoin="round" />
          </svg>
        </button>
        <!-- History -->
        <button class="nav-act" id="btnHistory" title="History">
          <svg width="18" height="18" viewBox="0 0 18 18" fill="none">
            <circle cx="9" cy="9" r="7" stroke="currentColor" stroke-width="2" />
            <polyline points="9,5 9,9 12,11" stroke="currentColor" stroke-width="2" stroke-linecap="round"
              stroke-linejoin="round" />
          </svg>
        </button>
        <!-- AI Sidebar Toggle -->
        <button class="nav-act" id="btnAi" title="AI Assistant">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
            stroke-linecap="round" stroke-linejoin="round">
            <path d="M12 2a10 10 0 1 0 10 10H12V2z"></path>
            <path d="M12 2a10 10 0 0 1 10 10h-10V2z" transform="rotate(180 12 12)"></path>
          </svg>
        </button>

        <!-- Downloads -->
        <button class="nav-act" id="btnDownloads" title="Downloads">
          <svg width="18" height="18" viewBox="0 0 18 18" fill="none">
            <path d="M9 2v9M5 8l4 4 4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round"
              stroke-linejoin="round" />
            <line x1="3" y1="15" x2="15" y2="15" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
          </svg>
          <span class="dl-badge" id="dlBadge"></span>
        </button>
        <!-- Picture-in-Picture -->
        <button class="nav-act" id="btnPip" title="Picture-in-Picture">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
            stroke-linecap="round" stroke-linejoin="round">
            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
            <rect x="13" y="13" width="7" height="7"></rect>
          </svg>
        </button>

        <!-- Split Screen -->
        <button class="nav-act" id="btnSplit" title="Split Screen">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
            stroke-linecap="round" stroke-linejoin="round">
            <rect x="3" y="3" width="9" height="18" rx="1"></rect>
            <rect x="12" y="3" width="9" height="18" rx="1"></rect>
          </svg>
        </button>

        <!-- User Profile -->
        <button class="nav-act nav-user" id="btnUser" title="User Account">
          <img id="imgUser" src="https://ui-avatars.com/api/?name=User&background=random" alt="User">
        </button>

        <!-- Three-dot menu -->
        <button class="nav-act" id="btnMenu" title="Menu">
          <svg width="18" height="18" viewBox="0 0 18 18" fill="none">
            <circle cx="9" cy="4" r="1.5" fill="currentColor" />
            <circle cx="9" cy="9" r="1.5" fill="currentColor" />
            <circle cx="9" cy="14" r="1.5" fill="currentColor" />
          </svg>
        </button>
      </div>

      <!-- Thin loading‑progress bar anchored at the very bottom of the nav bar -->
      <div class="load-bar" id="loadBar"></div>
    </div><!-- /nav-bar -->

  </div><!-- /shell -->

  <!-- download toast popup -->
  <div class="dl-toast" id="dlToast">
    <div class="dl-toast-title" id="dlToastTitle"></div>
    <div class="dl-toast-file" id="dlToastFile"></div>
  </div>

  <!-- ═══════════════════════════════════════════════════════════════════════════
     BOOKMARKS BAR  –  sits between shell and page content
     ═══════════════════════════════════════════════════════════════════════════ -->
  <div class="bookmarks-bar" id="bookmarksBar">
    <!-- populated by renderer.js -->
  </div>

  <div class="split-divider" id="splitDivider"></div>


  <!-- ═══════════════════════════════════════════════════════════════════════════
     FIND BAR  –  Ctrl+F  –  slides in from the top-right
     ═══════════════════════════════════════════════════════════════════════════ -->
  <div class="find-bar" id="findBar">
    <input class="find-input" id="findInput" type="text" placeholder="Find in page…" autocomplete="off"
      spellcheck="false" />
    <span class="find-count" id="findCount"></span>
    <button class="find-btn" id="findPrev" title="Previous (Shift+Enter)">
      <svg width="12" height="12" viewBox="0 0 12 12" fill="none">
        <path d="M8 2L5 6l3 4" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"
          stroke-linejoin="round" />
      </svg>
    </button>
    <button class="find-btn" id="findNext" title="Next (Enter)">
      <svg width="12" height="12" viewBox="0 0 12 12" fill="none">
        <path d="M4 2l3 4-3 4" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"
          stroke-linejoin="round" />
      </svg>
    </button>
    <button class="find-close" id="findClose" title="Close (Esc)">
      <svg width="12" height="12" viewBox="0 0 12 12" fill="none">
        <line x1="2" y1="2" x2="10" y2="10" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" />
        <line x1="10" y1="2" x2="2" y2="10" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" />
      </svg>
    </button>
  </div>


  <!-- ═══════════════════════════════════════════════════════════════════════════
     SIDE PANEL  –  History  |  Downloads  |  Bookmarks
     Slides in from the right; BrowserView is narrowed by 300 px when open.
     ═══════════════════════════════════════════════════════════════════════════ -->
  <aside class="side-panel" id="sidePanel">
    <div class="panel-head">
      <span class="panel-title" id="panelTitle">History</span>
      <button class="panel-close" id="btnPanelClose" title="Close panel">
        <svg width="14" height="14" viewBox="0 0 14 14" fill="none">
          <line x1="2" y1="2" x2="12" y2="12" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" />
          <line x1="12" y1="2" x2="2" y2="12" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" />
        </svg>
      </button>
    </div>
    <div class="panel-body" id="panelBody">
      <!-- populated by renderer.js -->
    </div>
  </aside>


  <!-- ═══════════════════════════════════════════════════════════════════════════
     TAB CONTEXT MENU  –  appears on right‑click over a tab pill
     ═══════════════════════════════════════════════════════════════════════════ -->
  <div class="ctx-menu" id="ctxMenu">
    <button class="ctx-item" data-action="pin">Pin Tab</button>
    <button class="ctx-item" data-action="duplicate">Duplicate Tab</button>
    <hr class="ctx-hr" />
    <button class="ctx-item" data-action="close">Close Tab</button>
    <button class="ctx-item" data-action="close-others">Close Other Tabs</button>
    <button class="ctx-item" data-action="close-right">Close Tabs to Right</button>
  </div>


  <!-- ═══════════════════════════════════════════════════════════════════════════
     AI SIDEBAR  –  Chat with local LLM
     ═══════════════════════════════════════════════════════════════════════════ -->
  <iframe id="aiSidebar" src="ai-sidebar.html" class="ai-sidebar"></iframe>

  <!-- ═══════════════════════════════════════════════════════════════════════════
     RENDERER  –  all front‑end logic lives here
     ═══════════════════════════════════════════════════════════════════════════ -->
  <script src="renderer.js"></script>

</body>

</html>